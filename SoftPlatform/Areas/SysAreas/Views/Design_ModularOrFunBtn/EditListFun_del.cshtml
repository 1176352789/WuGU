@model MyResponseBase

@{
    Layout = "~/Views/Shared/_Layout.cshtml";

    List<TextValue> OperPoss = new List<TextValue>
    { 
        new TextValue{Text="工具条",Value="1"},
        new TextValue{Text="表格行",Value="2"},
        new TextValue{Text="脚",Value="3"},
    };

    List<TextValue> BtnBehaviors = new List<TextValue>
    { 
        new TextValue{Text="弹窗UI",Value="11"},
        new TextValue{Text="弹窗Get",Value="12"},
        new TextValue{Text="跳转",Value="13"},
        new TextValue{Text="提交后台",Value="21"},
    };

    List<TextValue> PopupAfterTableFuns = new List<TextValue>
    { 
        new TextValue{Text="==后续==",Value=""},
        new TextValue{Text="保存并添加",Value="13"},
        new TextValue{Text="保存继续编辑",Value="26"},
        new TextValue{Text="保存关闭-插入行)",Value="27"},
        new TextValue{Text="保存关闭-替换行(保存跳转)",Value="27"},

        new TextValue{Text="上一条",Value="24"},
        new TextValue{Text="下一条",Value="25"},
        new TextValue{Text="关闭窗体",Value="18"},
        new TextValue{Text="关闭并重载",Value="19"},
        new TextValue{Text="确认并下一条",Value="23"},        
    };

}

<div id='editP' class="operArea">
    <div>
        @*@Html.Navigation(Model.ModularOrFunCode)*@
        <ul class="breadcrumb myjuxing">
            <li><span class="icon-home"></span><a href="/">首页</a></li>
            <li>设计管理</li>
        </ul>
    </div>
    <ul class="nav nav-tabs mybottabs">
        @if (Model.Disabled == "")
        {
@*<li><a href="/SysAreas/Design_ModularOrFun/Edit?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID">基本配置</a></li>
            <li><a href="/SysAreas/Design_ModularField/EditList?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >模块字段</a></li>
            <!--页面字段管理、页面查询条件字段管理(列表页)-->
            <li><a href="/SysAreas/Design_ModularPage/Index?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >页面管理</a></li>
            <li class="active"><a href="/SysAreas/Design_ModularOrFunBtn/EditList?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >模块按钮</a></li>
            <li><a href="/SysAreas/Design_ModularOrFunControll/?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >控制器</a></li>                        
            <li><a href="/SysAreas/Design_ModularOrFunBtnControll/?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >按钮控制器</a></li>                        
            <li><a href="/SysAreas/Design_ModularOrFunDomain/?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >业务逻辑</a></li>
            <li><a href="/SysAreas/Design_ModularOrFunDomainDetail/?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >业务步骤</a></li>*@

            <li ><a href="/SysAreas/Design_ModularOrFun/Edit?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID">基本配置</a></li>
            @*<li><a href="/SysAreas/Design_ModularField/EditList?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >模块字段</a></li>*@
            <!--页面字段管理、页面查询条件字段管理(列表页)-->@*
            <li><a href="/SysAreas/Design_ModularPage/Index?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >页面管理</a></li>
            <li><a href="/SysAreas/Design_ModularOrFunControll/EditList?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >控制器</a></li>
            <li><a href="/SysAreas/Design_ModularOrFunDomain/Index?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >业务逻辑</a></li>
            <li><a href="/SysAreas/Design_ModularOrFunSql/EditList?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >TSql</a></li>*@
            <li class="active"><a href="/SysAreas/Design_ModularOrFunBtn/EditList?Item.Design_ModularOrFunID=@Model.Item.Design_ModularOrFunID" >模块按钮</a></li>
        }
    </ul>
    <div class='mastEditArea editArea  '>
        <form>
            <div class="container-fluid margin-top-15">
                <div class='form-horizontal merge targetdom'>
                    <input type='hidden' id=Item_Design_ModularOrFunID name='Item.Design_ModularOrFunID' value='@Model.Item.Design_ModularOrFunID' />
                </div>
            </div>
        </form>
    </div>
    <div class="container-fluid childTableSelect">
        <div class='operArea' data-searchmethod='' data-url="">
            <div class="search-bar">
                <div class="tool-bar search-bar">
                    <div class="col-sm-2">
                        <a href='javascript:void(0);' data-tableid="#tbList" class='btn btn-success  btn-FwBtnSubmit'
                            data-posturl="/SysAreas/Design_ModularOrFunBtn/Row"
                            data-fun="10">
                            <span class="glyphicon glyphicon-plus"></span>添加按钮</a>
                    </div>
                    <div class="col-sm-10 text-right form-inline" id="SearchArea">
                    </div>
                </div>
            </div>
            <div class="scrollBar scrollBarAuto" style="width: 100%;" data-width="2000">
                <div class="mylist container-fluid container" style="width: 100%;">
                    <table id='tbList' class=" table table-bordered table-hover table-striped" style="width: 100%">

                        @*                        <div class="scrollBar scrollBarAuto" style="width: 1800px;" data-width="1800">
                            <div class="mylist container-fluid container" style="width: %;">
                                <table id='tbList' class="table table-bordered table-hover table-striped " style="width: 100%;">*@
                        <thead>
                            <tr>
                                <th class="lockhead" style="width: 60px;">序号 </th>
                                <th class="lockhead">操作 </th>
                                <th class="lockhead" style="width: 150px;">按钮名称</th>
                                <th class="lockhead">位置</th>
                                <th class="lockhead">行为</th>
                                <th class="lockhead" style="width: 250px;">后续操作</th>
                            </tr>
                        </thead>
                        <tbody data-collsname="Design_ModularOrFunBtns" data-design_modularorfunbtnid="Design_ModularOrFunBtnID">
                            @for (var i = 0; i < Model.Items.Count; i++)
                            {
                                var item = Model.Items[i];
                                <tr data-design_modularorfunbtnid="@item.Design_ModularOrFunBtnID" >
                                    <td>
                                        @(i + 1)
                                    </td>
                                    <td>
                                        <a href='javascript:void(0);' data-btnbehavior="11" data-fun="41" data-btnnamecn="删除" class='btn btn-primary btn-xs   btn-FwRowPopup'>
                                            <span class='glyphicon glyphicon-trash'></span>删除</a>
                                        <a href="~/SysAreas/Design_ModularOrFunBtnControll/EditList?Item.Design_ModularOrFunBtnID=@item.Design_ModularOrFunBtnID&Item.Design_ModularOrFunID=@item.Design_ModularOrFunID" class='btn btn-xs  btn-primary'>按钮控制器</a>
                                        @*<a href="~/AuthorizationAreas/Pre_Role/Detail?Item.Pre_RoleID=@item.Pre_RoleID" class='btn btn-xs  btn-primary'>删除</a>*@
                                    </td>
                                    <td>
                                        <input type='text'  class='form-control'  data-datatype='string' 
                                        data-fieldnamecn='按钮名称' id='Item_BtnNameCn' name='Item.Design_ModularOrFunBtns[{0}].BtnNameCn' value='@item.BtnNameCn' />
                                    </td>
                                    <td>
                                        @Html.DropDownList("Item.Design_ModularOrFunBtns[{0}].OperPos", OperPoss, "Value", "Text", item.OperPos)
                                    </td>
                                    <td>
                                        @Html.DropDownList("Item.Design_ModularOrFunBtns[{0}].BtnBehavior", BtnBehaviors, "Value", "Text", item.BtnBehavior)
                                    </td>
                                    <td>
                                        @Html.DropDownList("Item.Design_ModularOrFunBtns[{0}].PopupAfterTableFun", PopupAfterTableFuns, "Value", "Text", item.PopupAfterTableFun)
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- 分页 -->
            <div class="page-bar">
            </div>
        </div>
    </div>
    <div class='editArea'>
        <div class="container-fluid">
            <div class="form-footer1">
                <div class="text-right col-md-12">
                    <button class="btn  btn-primary btn-FwBtnSubmit"
                        data-targetdom=""
                        data-masteditarea=""
                        data-childtableselect=""
                        data-fun="27"
                        data-tableselect=""
                        data-pkname="Design_ModularOrFunBtnID"
                        data-posturl="/SysAreas/Design_ModularOrFunBtn/EditListSave"
                        data-targeturl="/SysAreas/Design_ModularOrFunBtn/EditList"
                        data-targeturlparamname="Design_ModularOrFunID">
                        保存</button>
                </div>
            </div>
        </div>
    </div>
</div>
